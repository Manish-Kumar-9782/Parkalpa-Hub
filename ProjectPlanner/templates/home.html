{% extends "index.html" %}
{% load static %}

{% block content %}

{% for project in projects %}
<div id="project-{{project.id}}"
     class="container"
     data-type="project">

    <div class="card project-card mb-4 position-relative">

        <div class="project-status d-flex gap-2">

            <!-- if project is newly created -->
            <div class="rounded bg-primary-subtle text-primary-emphasis project-status-badge">
                <i class="bi bi-stars"></i>
                <span>New</span>
            </div>

            <!-- project current status -->
            <div class="rounded bg-info-subtle text-info-emphasis project-status-badge">
                <i class="bi bi-stars"></i>
                <span>Active</span>
            </div>

        </div>

        <div class="row">
            <div class="col-md-4">
                <img class="img-fluid rounded-start"
                     src="{% static 'images/project-default.png' %}"
                     alt="">
            </div>

            <div class="col-md-8">

                <div class="card-body">
                    <div class="mb-4">
                        <div class="d-inline-block position-relative">
                            <h5 class="card-title">{{project.project_name}}</h5>
                            <span
                                  class="badge project-badge-card bg-success-subtle position-absolute rounded text-success-emphasis">Category</span>
                        </div>
                        <h6 class="card-subtitle mb-4 text-body-secondary">{{project.project_title}}
                        </h6>
                        <p class="card-text">{{project.description}}</p>
                    </div>

                    <div class="d-flex gap-2 justify-content-between mb-4 mt-4">
                        <div class="info-card border">
                            <div class="shadow d-block px-2 py-1">
                                <i class="bi bi-calendar2-plus text-primary"></i>
                                <span>Added Date</span>
                            </div>
                            <time class="info-value"
                                  datetime="{{project.added_date|date:'F j, Y'}}"
                                  data-name="addDate">{{project.added_date}}</time>
                        </div>

                        <div class="info-card border">
                            <div class="shadow d-block px-2 py-1">
                                <i class="bi bi-calendar-range text-success"></i>
                                <span class="">Start Date</span>
                            </div>
                            <time class="info-value"
                                  datetime="{{project.start_date|date:'F j, Y'}}"
                                  data-name="startDate">{{project.start_date}}</time>
                        </div>

                        <div class="info-card border">

                            <div class="shadow d-block px-2 py-1">
                                <i class="bi bi-calendar2-x text-danger"></i>
                                <span>End Date</span>
                            </div>
                            <time class="info-value"
                                  datetime="{{project.end_date|date:'F j, Y'}}"
                                  data-name="endDate">{{project.end_date}}</time>

                        </div>
                    </div>

                    <!-- grid of small stats cards -->

                    <div class="mb-3 d-flex justify-content-between">

                        <div class="card border-0">
                            <div
                                 class="card-body d-flex justify-content-center align-items-center p-2">
                                <i class="bi bi-list-task fs-2 text-primary"></i>
                                <div class="vr mx-3"></div>
                                <div>
                                    <h5 class="card-title fs-6">Total Tasks</h5>
                                    <p class="card-text fs-6">{{project.total_tasks}}</p>
                                </div>
                            </div>
                        </div>

                        <!-- ------------------- -->

                        <div class="card border-0">
                            <div
                                 class="card-body d-flex justify-content-center align-items-center p-2">
                                <i class="bi bi-list-check fs-2 text-success"></i>
                                <div class="vr mx-3"></div>
                                <div>
                                    <h5 class="card-title fs-6">Completed Tasks</h5>
                                    <p class="card-text fs-6">{{project.total_completed_tasks}}</p>
                                </div>
                            </div>
                        </div>

                        <!-- ------------------- -->
                        <div class="card border-0">
                            <div
                                 class="card-body d-flex justify-content-center align-items-center p-2">
                                <i class="bi bi-list-task fs-2 text-primary"></i>
                                <div class="vr mx-3"></div>
                                <div>
                                    <h5 class="card-title fs-6">Total Tasks</h5>
                                    <p class="card-text fs-6">{{project.total_tasks}}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="progress"
                         style="height:3px;"
                         role="progressbar">
                        <div class="progress-bar"
                             style="width: 10%;"
                             value="10"></div>
                    </div>


                    <div class="d-flex mt-4">

                        <div id="project-{{project.id}}-countdown">

                        </div>


                        <button type="button"
                                class="btn btn-dark btn-sm flex-justify-right">
                            <a href="{% url 'view_project' project.id %}"
                               class="text-decoration-none text-light">View More</a>
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- <script>
    // Set the date we're counting down to
    var targetDate = new Date("Dec 31, 2024 23:59:59");

    // Initialize the countdown
    countdown(
        targetDate,
        function (ts) {
            document.getElementById("countdown").innerHTML = ts.toHTML("strong");
        },
        countdown.DAYS | countdown.HOURS | countdown.MINUTES
    );
</script> -->

{% endfor %}

{% endblock content %}